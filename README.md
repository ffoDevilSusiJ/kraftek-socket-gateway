# Kraftek Socket Gateway

WebSocket Gateway служит единой точкой подключения для клиентов и маршрутизирует события между сервисами

## Архитектура

```
Client → Gateway → Auth Check → Room Cache → Redis Pub/Sub → Notes Service
   ↑         ↓                                      ↓
   └─────────┴─ Redis Room Cache ←─────────────────┘
```

## Применение

WebSocket Gateway выполняет следующие функции:

- Маршрутизирует запросы между сервисами через брокер очередей
- Держит пул сокет соеденений с клиентами
- При первом запросе отправляет запросы в auth на проверку авторизации и доступов - сохраняет в кеше доступы и токен пользователя (при изменении доступов, auth очищает кеш)
- Добавляет к клиентскому пакету пользователя userId

